 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="/pages/templates/default.xhtml">
	<ui:define name="corpo">
		<h:form id="consUtil">
			<div id="centro">
				<p:growl id="growl" showDetail="true" sticky="false"
					life="#{aplicacaoMB.parametrosprodutos.tempomensagens}" />
				<br></br>
				<legend id="iUsu2">
					<b>Consulta de Util</b>
				</legend>
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="recalculoDashboard" 
						icon="ui-icon-refresh" value="Recalcular Dashboard" action="#{utilMB.recalcularDashboard()}" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="rlancarposvenda" 
						icon="ui-icon-refresh" value="Lançar Pós Venda" action="#{utilMB.recalcularDashboard()}" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="calcularbo" 
						icon="ui-icon-refresh" value="Recalcular BO" action="#{utilMB.recalcularBO()}" update="growl"/>
				</h:panelGrid>  
				<br></br>   
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="HE" 
						icon="ui-icon-refresh" value="Exportar HE" action="#" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="controlehe" 
						icon="ui-icon-refresh" value="Gerar Controle HE" action="#{utilMB.gerarControleHE()}" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="vendasembarque" 
						icon="ui-icon-refresh" value="Gerar Vendas Embarque" action="#{utilMB.gerarControleCursoAjustes()}" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="relatorioclinte" 
						icon="ui-icon-refresh" value="Relatorio Clientes" action="#{utilMB.gerarRelatorioCliente()}" update="growl"/>
				</h:panelGrid>  
				<h:panelGrid columns="1" style="margin-left:5%;">
					<p:commandButton id="proof" 
						icon="ui-icon-refresh" value="Proof" action="#{utilMB.gravarDataProof()}" update="growl"/>
				</h:panelGrid>  
				<br></br>  
				
				 <h:panelGrid columns="2" style="margin-left:2%">
			            <h:commandLink>
			                <img src="../../resources/img/icone_xls.png" width="36" />
			                <p:dataExporter type="xls" target="tbl" fileName="relatorioclientes" />
			            </h:commandLink>
			 
			            <h:commandLink>
			                <img src="../../resources/img/icone_pdf.png" width="32" />
			                <p:dataExporter type="pdf" target="tbl" fileName="relatorioclientes"/>
			            </h:commandLink>
			        </h:panelGrid>
				<p:dataTable id="tbl" var="cliente" value="#{utilMB.listaRelatorio}"
			                 style="width: 99%;margin-left:1%;" scrollable="true"
							scrollHeight="300">
			 
			        
			        <p:column headerText="Nome" sortBy="#{cliente.nome}" style="width:90px;text-align:left;" >
			            <h:outputText value="#{cliente.nome}" />
			        </p:column>
			        <p:column headerText="Data Nascimneto"  style="width:60px;text-align:center;">
			            <h:outputText value="#{cliente.dataNascimento}" >
			            	<f:convertDateTime pattern="dd/MM/yyyy"
										timeZone="America/Sao_Paulo" />   
						</h:outputText>
			        </p:column>
			        <p:column headerText="E-mail" sortBy="#{cliente.email}" style="width:120px;text-align:left;" >
			            <h:outputText value="#{cliente.email}" />
			        </p:column>
			        <p:column headerText="Fone"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.foneResidencial}" />
			        </p:column>
			        <p:column headerText="Fone"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.foneCelular}" />
			        </p:column>
			         <p:column headerText="Unidade TM"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.unidade}" />
			        </p:column>
			        <p:column headerText="Programa"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.programa}" />
			        </p:column>
			        <p:column headerText="Pais"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.pais}" />
			        </p:column>
			        <p:column headerText="Cidade"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.cidade}" />
			        </p:column>
			        
			        <p:column headerText="Profissão"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.profissao}" />
			        </p:column>
			        <p:column headerText="Escolaridade"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.escolaridade}" />
			        </p:column>
			        <p:column headerText="Idade"  style="width:70px;text-align:left;" >
			            <h:outputText value="#{cliente.idade}" />
			        </p:column>
			        <p:column headerText="Data Inicio"  style="width:60px;text-align:center;">
			            <h:outputText value="#{cliente.datainicio}" >
			            	<f:convertDateTime pattern="dd/MM/yyyy"
										timeZone="America/Sao_Paulo" />   
						</h:outputText>
			        </p:column>
			        
			        
			 
			    </p:dataTable>
			</div>
		</h:form>

	</ui:define>
</ui:composition>
</html>
