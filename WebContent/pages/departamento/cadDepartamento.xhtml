<?xml version='1.0'  encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      lang="pt-br"
      xml:lang="pt-br">
<h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
         <link href="../../resources/css/cssteste.css" rel="stylesheet" type="text/css" />
        
</h:head>
		
		<f:view encoding="ISO-8859-1">
			<h:form id="cadDepartamento" style="font-size:12px;">
				<p:growl id="messages" showDetail="true" sticky="false" life="#{aplicacaoMB.parametrosprodutos.tempomensagens}"/>
						<title >
							<p:outputLabel value="Cadastro de Departamento"/>
						</title>
						<h:panelGrid columns="2"
							style="width:100%;">
							<p:outputLabel value="Nome" for="nome" />
							<p:outputLabel value="Unidade" for="unidade" />
	
							<p:inputText id="nome" style="width:90%;"
								value="#{cadDepartamentoMB.departamento.nome}" />
							<p:selectOneMenu id="unidade" disabled="#{cadDepartamentoMB.habilitarUnidade}"
								value="#{cadDepartamentoMB.unidadenegocio}"
								style="width:250px;" converter="UnidadeNegocioConverter"
								filter="true" filterMatchMode="startsWith">
								<f:selectItem itemLabel="Unidade" itemValue="0"
									noSelectionOption="true" />
								<f:selectItems id="idunidade"
									value="#{cadDepartamentoMB.listaUnidade}" var="sUnidade"
									itemLabel="#{sUnidade.nomerelatorio}" itemValue="#{sUnidade}" />
								<f:attribute name="listaUnidade"
									value="#{cadDepartamentoMB.listaUnidade}" />
									<p:ajax event="change" listener="#{cadDepartamentoMB.gerarListaUsuario()}" update=":cadDepartamento:usuario , :cadDepartamento:panelInformacoes2"/>
							</p:selectOneMenu>
						</h:panelGrid>
						<br></br>
						<h:panelGrid columns="2"
							style="width:100%;" id="panelInformacoes2">
							<p:outputLabel value="Responsável" for="usuario" />
							<p:outputLabel />
							
							<p:selectOneMenu id="usuario" value="#{cadDepartamentoMB.usuario}"
								style="width:250px;" filter="true" filterMatchMode="startsWith"
								panelStyle="width:180px" converter="UsuarioConverter">
								<f:selectItem itemLabel="Selecione" itemValue="0"
									noSelectionOption="true" />
								<f:selectItems value="#{cadDepartamentoMB.listaUsuario}" var="usuario"
									itemLabel="#{usuario.nome}" itemValue="#{usuario}" />
								<f:attribute name="listaUsuario" value="#{cadDepartamentoMB.listaUsuario}" />
							</p:selectOneMenu>
							
							<h:panelGroup style="float:rigth;">
								<p:selectBooleanCheckbox id="pasta"
									value="#{cadDepartamentoMB.departamento.pasta}" />
								<p:outputLabel value="Criar Pasta ?"
									style="margin-left:2%;" />
							</h:panelGroup>
						</h:panelGrid>
				<br></br><br/>
				<div align="center">
					<p:commandButton id="btnConfirmar" value="Confirmar"
						action="#{cadDepartamentoMB.salvar()}" icon="ui-icon-check"
						style="font-size:12px;" />
					<p:commandButton id="btnCancelar" value="Cancelar"
						action="#{cadDepartamentoMB.cancelar()}" icon="ui-icon-closethick"
						style="font-size:12px;margin-left:2%" />
				</div>
				<br></br>
			</h:form>
		</f:view>
</html>