<?xml version='1.0'  encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      lang="pt-br"
      xml:lang="pt-br">
<h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
         <link href="../../resources/css/cssteste.css" rel="stylesheet" type="text/css" />
        
</h:head>
		
		<f:view encoding="ISO-8859-1">
			<h:form id="cadFuncao" style="font-size:12px;">
				<p:growl id="messages" showDetail="true" sticky="false" life="#{aplicacaoMB.parametrosprodutos.tempomensagens}"/>
						<title id="iUsu3" ><b>Cadastro de Função</b></title>
						<h:panelGrid columns="2"
							style="width:100%;">
							<p:outputLabel value="Departamento" for="departamento" />
							<p:outputLabel value="Usuario" for="usuario" />
							
							<p:selectOneMenu id="departamento"  
								value="#{cadFuncaoMB.departamento}" disabled="#{cadFuncaoMB.habilitarDepartamento}"
								style="width:250px;" converter="DepartamentoConverter"
								filter="true" filterMatchMode="startsWith">
								<f:selectItem itemLabel="Departamento" itemValue="0"
									noSelectionOption="true" />
								<f:selectItems id="iddepartamento"
									value="#{cadFuncaoMB.listaDepartamento}" var="departamento"
									itemLabel="#{departamento.nome}" itemValue="#{departamento}" />
								<f:attribute name="listaDepartamento"
									value="#{cadFuncaoMB.listaDepartamento}" />
									<p:ajax event="change" listener="#{cadFuncaoMB.gerarListaUsuario()}" update="usuario"/>
							</p:selectOneMenu>
							<p:selectOneMenu id="usuario" value="#{cadFuncaoMB.usuario}"
								style="width:230px;" filter="true" filterMatchMode="startsWith"
								panelStyle="width:180px" converter="UsuarioConverter">
								<f:selectItem itemLabel="Selecione" itemValue="0"
									noSelectionOption="true" />
								<f:selectItems value="#{cadFuncaoMB.listaUsuario}" var="usuario"
									itemLabel="#{usuario.nome}" itemValue="#{usuario}" />
								<f:attribute name="listaUsuario" value="#{cadFuncaoMB.listaUsuario}" />
							</p:selectOneMenu>
							
						</h:panelGrid>
						<br></br>
						<h:panelGrid columns="1"
							style="width:100%;" id="panelInformacoes2">
							<p:outputLabel value="Função" for="usuario" />
							
							<p:inputTextarea id="nome" rows="8" style="width:90%;"
								value="#{cadFuncaoMB.funcao.descricao}" />
						</h:panelGrid>
						<br></br>
						<h:panelGrid columns="2"
							style="width:100%;" id="panelInformacoes3">
							<p:outputLabel value="Skype" for="skype" />
							<p:outputLabel value="whats" for="whats" />
							<p:inputText id="skype" style="width:90%;"
								value="#{cadFuncaoMB.funcao.skype}" />
							<p:inputMask id="whats" style="width:90%;" mask="(99)99999-9999"
								value="#{cadFuncaoMB.funcao.whatsapp}" />
						</h:panelGrid>
				<br></br><br/>
				<div align="center">
					<p:commandButton id="btnConfirmar" value="Confirmar"
						action="#{cadFuncaoMB.salvar()}" icon="ui-icon-check"
						style="font-size:12px;" />
					<p:commandButton id="btnCancelar" value="Cancelar"
						action="#{cadFuncaoMB.cancelar()}"  icon="ui-icon-closethick"
						style="font-size:12px;margin-left:2%" />
				</div>
				<br></br>
			</h:form>
		</f:view>
</html>